# –†–∞–±–æ—Ç–∞ —Å DOM –∏ —Å–æ–±—ã—Ç–∏—è

## –ó–∞–¥–∞—á–∞ 4.1: Event delegation –¥–ª—è —Å–ø–∏—Å–∫–∞ üü¢

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ï—Å—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–ª–∏–∫–∏ –±–µ–∑ 1000 –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

**–ó–∞–¥–∞—á–∞:**
```typescript
// HTML:
// <ul id="list">
//   <li data-id="1">Item 1 <button class="delete">Delete</button></li>
//   <li data-id="2">Item 2 <button class="delete">Delete</button></li>
//   ...
// </ul>

// –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:
// 1. –ö–ª–∏–∫ –ø–æ item ‚Üí console.log(id)
// 2. –ö–ª–∏–∫ –ø–æ delete ‚Üí —É–¥–∞–ª–∏—Ç—å item
// –ò—Å–ø–æ–ª—å–∑—É—è –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ <ul>
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –ü–æ–≤–µ—Å—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç (ul)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ event.target –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .closest() –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–µ–≥–æ li –∏–ª–∏ button
- –ü–æ–ª—É—á–∞–π—Ç–µ data-id —á–µ—Ä–µ–∑ dataset

</details>


## –ó–∞–¥–∞—á–∞ 4.2: Throttle –¥–ª—è scroll —Å–æ–±—ã—Ç–∏—è üü°

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ–∑–∏—Ü–∏—é, –Ω–æ –Ω–µ —á–∞—â–µ —á–µ–º —Ä–∞–∑ –≤ 100ms.

**–ó–∞–¥–∞—á–∞:**
```typescript
// –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é throttle
function throttle(func: Function, limit: number): Function {
  // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ func –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º—É–º —Ä–∞–∑ –≤ limit –º—Å
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const handleScroll = throttle(() => {
  console.log('Scroll position:', window.scrollY);
}, 100);

window.addEventListener('scroll', handleScroll);
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è "–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ª–∏ throttle"
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–±–ª–æ–∫–∏—Ä—É–π—Ç–µ –Ω–∞ limit –º—Å
- –û—Ç–ª–∏—á–∏–µ –æ—Ç debounce: throttle –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- –•—Ä–∞–Ω–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø–æ—Å–ª–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

</details>


## –ó–∞–¥–∞—á–∞ 4.3: –ö–ª–∏–∫ –≤–Ω–µ —ç–ª–µ–º–µ–Ω—Ç–∞ üü¢

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ó–∞–∫—Ä—ã–≤–∞—Ç—å dropdown/modal –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ.

**–ó–∞–¥–∞—á–∞:**
```typescript
function onClickOutside(element: HTMLElement, callback: () => void): () => void {
  // –í—ã–∑—ã–≤–∞—Ç—å callback –∫–æ–≥–¥–∞ –∫–ª–∏–∫ –ø—Ä–æ–∏–∑–æ—à–µ–ª –≤–Ω–µ element
  // –í–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç–ø–∏—Å–∫–∏
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const dropdown = document.querySelector('.dropdown');
const unsubscribe = onClickOutside(dropdown, () => {
  dropdown.classList.remove('open');
});

// –ü–æ–∑–∂–µ: unsubscribe();
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –ü–æ–≤–µ—Å—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ document
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ: –µ—Å–ª–∏ event.target –Ω–µ –≤–Ω—É—Ç—Ä–∏ element
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ element.contains(event.target)
- –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è removeEventListener

</details>


## –ó–∞–¥–∞—á–∞ 4.4: Drag & Drop –¥–ª—è —Å–ø–∏—Å–∫–∞ üî¥

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞.

**–ó–∞–¥–∞—á–∞:**
```typescript
// –°–¥–µ–ª–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–º–∏
// –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –º–µ–Ω—è—Ç—å –∏—Ö –ø–æ—Ä—è–¥–æ–∫
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTML5 Drag & Drop API

class DraggableList {
  constructor(listElement: HTMLElement) {}

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å drag & drop
  // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏—è: dragstart, dragover, drop
  // –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ DOM
}
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –î–æ–±–∞–≤—å—Ç–µ –∞—Ç—Ä–∏–±—É—Ç draggable="true" –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º
- –í dragstart —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
- –í dragover –≤—ã–∑–æ–≤–∏—Ç–µ event.preventDefault() –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è drop
- –í drop –ø–æ–º–µ–Ω—è–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–µ—Å—Ç–∞–º–∏ –≤ DOM
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ insertBefore –∏–ª–∏ insertAdjacentElement

</details>


## –ó–∞–¥–∞—á–∞ 4.5: –ü–æ–∫–∞–∑–∞—Ç—å tooltip –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ üü¢

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å data-tooltip –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–ø–ª—ã–≤–∞—é—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É.

**–ó–∞–¥–∞—á–∞:**
```typescript
// HTML: <button data-tooltip="Click to save">Save</button>

// –°–æ–∑–¥–∞—Ç—å tooltip –∫–æ—Ç–æ—Ä—ã–π:
// 1. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ mouseenter
// 2. –ò—Å—á–µ–∑–∞–µ—Ç –ø—Ä–∏ mouseleave
// 3. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º
// 4. –†–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å data-tooltip

class TooltipManager {
  init(): void {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
  }

  show(element: HTMLElement, text: string): void {}
  hide(): void {}
}
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ event delegation –Ω–∞ document
- –°–æ–∑–¥–∞–π—Ç–µ –æ–¥–∏–Ω div.tooltip, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ
- –í—ã—á–∏—Å–ª—è–π—Ç–µ –ø–æ–∑–∏—Ü–∏—é: element.getBoundingClientRect()
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–π—Ç–µ tooltip —á–µ—Ä–µ–∑ position: absolute

</details>


## –ó–∞–¥–∞—á–∞ 4.6: Infinite scroll —Å Intersection Observer üü°

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ó–∞–≥—Ä—É–∂–∞—Ç—å –Ω–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ —Å–ø–∏—Å–∫–∞.

**–ó–∞–¥–∞—á–∞:**
```typescript
class InfiniteScrollObserver {
  constructor(
    triggerElement: HTMLElement, // —ç–ª–µ–º–µ–Ω—Ç-—Ç—Ä–∏–≥–≥–µ—Ä –≤ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞
    onLoadMore: () => Promise<void>
  ) {}

  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Intersection Observer
  // –í—ã–∑—ã–≤–∞—Ç—å onLoadMore –∫–æ–≥–¥–∞ triggerElement —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–∏–¥–∏–º—ã–º

  disconnect(): void {}
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const trigger = document.querySelector('.load-more-trigger');
const observer = new InfiniteScrollObserver(trigger, async () => {
  await loadMoreItems();
});
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –°–æ–∑–¥–∞–π—Ç–µ IntersectionObserver —Å callback
- –í callback –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ entry.isIntersecting
- –í—ã–∑—ã–≤–∞–π—Ç–µ onLoadMore —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ true
- –î–æ–±–∞–≤—å—Ç–µ –∑–∞—â–∏—Ç—É –æ—Ç –¥–≤–æ–π–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (—Ñ–ª–∞–≥ loading)

</details>


## –ó–∞–¥–∞—á–∞ 4.7: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–∫—É—Å–æ–º –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ üü°

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏ —Ñ–æ–∫—É—Å –¥–æ–ª–∂–µ–Ω "–∑–∞–ø–∏—Ä–∞—Ç—å—Å—è" –≤–Ω—É—Ç—Ä–∏ –Ω–µ–µ (trap focus).

**–ó–∞–¥–∞—á–∞:**
```typescript
// –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
// 1. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏ —Ñ–æ–∫—É—Å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
// 2. Tab/Shift+Tab —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç —Ñ–æ–∫—É—Å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥–∞–ª–∫–∏
// 3. Escape –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É
// 4. –ü—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ñ–æ–∫—É—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–∫—Ä—ã–ª –º–æ–¥–∞–ª–∫—É

class FocusTrap {
  constructor(element: HTMLElement) {}

  activate(): void {}
  deactivate(): void {}
}
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –ù–∞–π–¥–∏—Ç–µ –≤—Å–µ focusable —ç–ª–µ–º–µ–Ω—Ç—ã: 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
- –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–π activeElement
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ Tab —á–µ—Ä–µ–∑ keydown
- –ï—Å–ª–∏ —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º —ç–ª–µ–º–µ–Ω—Ç–µ –∏ Tab ‚Üí –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –ø–µ—Ä–≤—ã–π
- –ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–µ—Ä–Ω—É—Ç—å —Ñ–æ–∫—É—Å –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç

</details>


## –ó–∞–¥–∞—á–∞ 4.8: Custom –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é üü°

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–∏ –ø—Ä–∞–≤–æ–º –∫–ª–∏–∫–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å custom –º–µ–Ω—é –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ.

**–ó–∞–¥–∞—á–∞:**
```typescript
// –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –∫–æ—Ç–æ—Ä–æ–µ:
// 1. –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–∞–≤–æ–º –∫–ª–∏–∫–µ (contextmenu event)
// 2. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –≤ –º–µ—Å—Ç–µ –∫–ª–∏–∫–∞
// 3. –ò—Å—á–µ–∑–∞–µ—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –º–µ–Ω—é –∏–ª–∏ Escape
// 4. –ù–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã viewport

interface MenuItem {
  label: string;
  onClick: () => void;
}

class ContextMenu {
  constructor(items: MenuItem[]) {}

  show(x: number, y: number): void {}
  hide(): void {}
}
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –û—Ç–º–µ–Ω–∏—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ–Ω—é: event.preventDefault() –Ω–∞ contextmenu
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ position: fixed —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ x, y
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã viewport: –µ—Å–ª–∏ –º–µ–Ω—é –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –∫—Ä–∞–π, —Å–¥–≤–∏–Ω—å—Ç–µ –µ–≥–æ
- –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ (—Å–º. –∑–∞–¥–∞—á—É 4.3)

</details>


## –ó–∞–¥–∞—á–∞ 4.9: Debounced resize observer üü¢

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è responsive –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞).

**–ó–∞–¥–∞—á–∞:**
```typescript
class DebouncedResizeObserver {
  constructor(
    element: HTMLElement,
    callback: (entry: ResizeObserverEntry) => void,
    delay: number = 200
  ) {}

  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ResizeObserver —Å debounce

  disconnect(): void {}
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const observer = new DebouncedResizeObserver(
  containerElement,
  (entry) => {
    console.log('New size:', entry.contentRect.width, entry.contentRect.height);
  }
);
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –°–æ–∑–¥–∞–π—Ç–µ ResizeObserver
- –û–±–µ—Ä–Ω–∏—Ç–µ callback –≤ debounce
- ResizeObserver —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
- Debounce –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç —á–∞—Å—Ç—ã–µ –≤—ã–∑–æ–≤—ã –ø—Ä–∏ –ø–ª–∞–≤–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏

</details>


## –ó–∞–¥–∞—á–∞ 4.10: Smooth scroll –∫ —ç–ª–µ–º–µ–Ω—Ç—É üü¢

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é –ø–ª–∞–≤–Ω–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å –∫ —Å–µ–∫—Ü–∏–∏.

**–ó–∞–¥–∞—á–∞:**
```typescript
function scrollToElement(
  element: HTMLElement,
  options?: {
    offset?: number; // –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É (–¥–ª—è fixed header)
    duration?: number;
  }
): void {
  // –ü–ª–∞–≤–Ω–æ –ø—Ä–æ—Å–∫—Ä–æ–ª–ª–∏—Ç—å –∫ —ç–ª–µ–º–µ–Ω—Ç—É
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
document.querySelectorAll('a[href^="#"]').forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    const target = document.querySelector(link.getAttribute('href')!);
    scrollToElement(target, { offset: 80 }); // 80px –¥–ª—è header
  });
});
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ element.scrollIntoView({ behavior: 'smooth' })
- –î–ª—è offset –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ window.scrollTo —Å –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–µ–π
- –ü–æ–∑–∏—Ü–∏—è = element.offsetTop - offset
- –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: CSS scroll-margin-top –¥–ª—è offset

</details>


## –ó–∞–¥–∞—á–∞ 4.11: –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ üî¥

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞ 10000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

**–ó–∞–¥–∞—á–∞:**
```typescript
class VirtualScroll {
  constructor(
    container: HTMLElement,
    items: any[],
    itemHeight: number,
    renderItem: (item: any) => string
  ) {}

  // –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã + buffer
  // –ü—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –æ–±–Ω–æ–≤–ª—è—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
  // –°–æ–∑–¥–∞—Ç—å "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é" –≤—ã—Å–æ—Ç—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

  render(): void {}
}

// items = Array(10000).fill(0).map((_, i) => ({ id: i, name: `Item ${i}` }))
// –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ ~20 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –°–æ–∑–¥–∞–π—Ç–µ wrapper —Å –æ–±—â–µ–π –≤—ã—Å–æ—Ç–æ–π: items.length * itemHeight
- –í—ã—á–∏—Å–ª—è–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: startIndex = scrollTop / itemHeight
- –†–µ–Ω–¥–µ—Ä–∏—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã –æ—Ç startIndex –¥–æ startIndex + visibleCount
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ transform: translateY() –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü—Ä–∏ scroll –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–π—Ç–µ –∏ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ DOM

</details>


## –ó–∞–¥–∞—á–∞ 4.12: Copy to clipboard —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º üü¢

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ö–Ω–æ–ø–∫–∞ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å" –∫–æ—Ç–æ—Ä–∞—è –∫–æ–ø–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

**–ó–∞–¥–∞—á–∞:**
```typescript
async function copyToClipboard(text: string): Promise<boolean> {
  // –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
  // –í–µ—Ä–Ω—É—Ç—å true –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ, false –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
button.addEventListener('click', async () => {
  const success = await copyToClipboard('Text to copy');
  if (success) {
    showNotification('Copied!');
  }
});
```

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</summary>

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Clipboard API: navigator.clipboard.writeText()
- –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–ª—É—á–∞–π –∫–æ–≥–¥–∞ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (—Å—Ç–∞—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã)
- Fallback: —Å–æ–∑–¥–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–π textarea, –≤—ã–¥–µ–ª–∏—Ç–µ –∏ execCommand('copy')
- –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (toast)

</details>